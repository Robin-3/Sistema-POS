---
// https://dev.to/chantastic/add-lucide-icons-to-astro-42el

const { icon, ...props } = Astro.props;
/**
 * [0]: "svg"
 * [1]: element attributes
 * [2]: children
 */
const [, attributes, children] = icon;

const componentChildren = children
  ?.map(
    ([shape, attributes]: any) =>
      `<${shape} ${Object.entries(attributes)
        .map(([k, v]) => `${k}="${v}"`)
        .join(" ")} />`
  )
  .join("");

const componentAttributes = { ...attributes, ...props };
---

<svg {...componentAttributes} set:html={componentChildren} />
